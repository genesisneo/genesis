#!/bin/sh

. "$(dirname "$0")/_/husky.sh"

echo 'ðŸ›  Testing and building your project before committing...'

# Check Prettier standards
npm run check:format ||
(
  echo 'âš  Prettier Check Failed.
    Run `npm run format`, add changes, and try commit again.';
  false;
)

# Check ESLint Standards
npm run check:lint ||
(
  echo 'âš  Lint Check Failed.
    Make the required changes listed above, add changes, and try to commit again.'
  false; 
)

# Check tsconfig standards
npm run check:types ||
(
  echo 'âš  Type Check Failed.
    Make the required changes listed above, add changes, and try to commit again.'
  false;
)

# check passes
echo 'ðŸŽ‰ Test complete...
  âš™ Building project...'

npm run build ||
(
  echo 'âš  Build Failed.
    Check the error above for more information.'
  false;
)

# build passes
echo 'ðŸŽ‰ All check complete!'
